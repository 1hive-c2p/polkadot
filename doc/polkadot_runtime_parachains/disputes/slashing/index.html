<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Dispute slashing pallet."><meta name="keywords" content="rust, rustlang, rust-lang, slashing"><title>polkadot_runtime_parachains::disputes::slashing - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script defer src="../../../main.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../polkadot_runtime_parachains/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../../polkadot_runtime_parachains/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module slashing</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../polkadot_runtime_parachains/index.html"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1">
                                <a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../../index.html">polkadot_runtime_parachains</a>::<wbr><a href="../index.html">disputes</a>::<wbr><a class="mod" href="#">slashing</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/polkadot_runtime_parachains/disputes/slashing.rs.html#17-739">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Dispute slashing pallet.</p>
<p>Once a dispute is concluded, we want to slash validators
who were on the wrong side of the dispute. The slashing amount
depends on whether the candidate was valid (small) or invalid (big).
In addition to that, we might want to kick out the validators from the
active set.</p>
<p>The <code>offences</code> pallet from Substrate provides us with a way to do both.
Currently, the interface expects us to provide staking information
including nominator exposure in order to submit an offence.</p>
<p>Normally, we’d able to fetch this information from the runtime as soon as
the dispute is concluded. This is also what <code>im-online</code> pallet does.
However, since a dispute can conclude several sessions after the candidate
was backed (see <code>dispute_period</code> in <code>HostConfiguration</code>), we can’t rely on
this information be available in the context of the current block. The
<code>babe</code> and <code>grandpa</code> equivocation handlers also have to deal
with this problem.</p>
<p>Our implementation looks like a hybrid of <code>im-online</code> and <code>grandpa</code>
equivocation handlers. Meaning, we submit an <code>offence</code> for the concluded
disputes about the current session candidate directly from the runtime.
If, however, the dispute is about a past session, we record unapplied
slashes on chain, without <code>FullIdentification</code> of the offenders.
Later on, a block producer can submit an unsigned transaction with
<code>KeyOwnershipProof</code> of an offender and submit it to the runtime
to produce an offence.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left import-item"><code>pub use <a class="mod" href="pallet/index.html" title="mod polkadot_runtime_parachains::disputes::slashing::pallet">pallet</a>::*;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="pallet/index.html" title="polkadot_runtime_parachains::disputes::slashing::pallet mod">pallet</a></div><div class="item-right docblock-short"><p>The module that hosts all the
<a href="https://docs.substrate.io/main-docs/build/events-errors/">FRAME</a>
types needed to add this pallet to a
runtime.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BenchConfig.html" title="polkadot_runtime_parachains::disputes::slashing::BenchConfig struct">BenchConfig</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DisputeProof.html" title="polkadot_runtime_parachains::disputes::slashing::DisputeProof struct">DisputeProof</a></div><div class="item-right docblock-short"><p>We store most of the information about a lost dispute on chain. This struct
is required to identify and verify it.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DisputesTimeSlot.html" title="polkadot_runtime_parachains::disputes::slashing::DisputesTimeSlot struct">DisputesTimeSlot</a></div><div class="item-right docblock-short"><p>Timeslots should uniquely identify offences and are used for the offence
deduplication.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PendingSlashes.html" title="polkadot_runtime_parachains::disputes::slashing::PendingSlashes struct">PendingSlashes</a></div><div class="item-right docblock-short"><p>Slashes that are waiting to be applied once we have validator key
identification.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SlashValidatorsForDisputes.html" title="polkadot_runtime_parachains::disputes::slashing::SlashValidatorsForDisputes struct">SlashValidatorsForDisputes</a></div><div class="item-right docblock-short"><p>This type implements <code>SlashingHandler</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SlashingOffence.html" title="polkadot_runtime_parachains::disputes::slashing::SlashingOffence struct">SlashingOffence</a></div><div class="item-right docblock-short"><p>An offence that is filed when a series of validators lost a dispute.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SlashingReportHandler.html" title="polkadot_runtime_parachains::disputes::slashing::SlashingReportHandler struct">SlashingReportHandler</a></div><div class="item-right docblock-short"><p>Actual <code>HandleReports</code> implemention.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TestWeightInfo.html" title="polkadot_runtime_parachains::disputes::slashing::TestWeightInfo struct">TestWeightInfo</a></div><div class="item-right docblock-short"></div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SlashingOffenceKind.html" title="polkadot_runtime_parachains::disputes::slashing::SlashingOffenceKind enum">SlashingOffenceKind</a></div><div class="item-right docblock-short"></div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.BenchmarkingConfiguration.html" title="polkadot_runtime_parachains::disputes::slashing::BenchmarkingConfiguration trait">BenchmarkingConfiguration</a></div><div class="item-right docblock-short"><p>The benchmarking configuration.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.HandleReports.html" title="polkadot_runtime_parachains::disputes::slashing::HandleReports trait">HandleReports</a></div><div class="item-right docblock-short"><p>A trait that defines methods to report an offence (after the slashing report
has been validated) and for submitting a transaction to report a slash (from
an offchain context).</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.WeightInfo.html" title="polkadot_runtime_parachains::disputes::slashing::WeightInfo trait">WeightInfo</a></div><div class="item-right docblock-short"></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="polkadot_runtime_parachains" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.64.0-nightly (7fe022f5a 2022-07-24)" ></div>
</body></html>